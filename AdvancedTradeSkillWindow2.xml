<Ui>
	<Button name="ATSWRecipeButtonTemplate" hidden="true" virtual="true">
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentQualityTexture" file="Interface\Buttons\UI-ActionButton-Border" hidden="true">
					<Size x="16.7" y="16.8"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="2.6" y="0"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.24" right="0.76" top="0.24" bottom="0.76"/>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="$parentTexture">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="3" y="0"/>
						</Anchor>
					</Anchors>
				</Texture>
				<FontString name="$parentSubText" inherits="GameFontNormalSmall" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOP">
							<Offset x="0" y="-4"/>
						</Anchor>
						<Anchor point="RIGHT" relativeTo="ATSWScrollBackgroundTop" relativePoint="LEFT">
							<Offset x="-2" y="0"/>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				this.R, this.G, this.B = getglobal(this:GetName().."SubText"):GetTextColor()
				getglobal(this:GetName().."Text"):SetDrawLayer("BACKGROUND")
			</OnLoad>
			<OnClick>
				ATSWRecipeButton_OnClick(arg1)
			</OnClick>
			<OnEnter>
				getglobal(this:GetName().."SubText"):SetTextColor(HIGHLIGHT_FONT_COLOR.r, HIGHLIGHT_FONT_COLOR.g, HIGHLIGHT_FONT_COLOR.b)
				ATSW_ShowRecipeTooltip()
				
				local Texture 	= getglobal(this:GetName().."Texture"):GetTexture()
				local Highlight 	= getglobal(this:GetName().."Highlight")
				
				if Texture then
					Highlight:Show()
				else
					Highlight:Hide()
				end
			</OnEnter>
			<OnLeave>
				getglobal(this:GetName().."SubText"):SetTextColor(this.R, this.G, this.B)
				ATSWRecipeTooltip:Hide()
				ATSWRecipeItemTooltip:Hide()
			</OnLeave>
		</Scripts>
		
		<HighlightTexture name="$parentHighlight" file="Interface\Buttons\UI-PlusButton-Hilight" alphaMode="ADD">
			<Size x="16" y="16"/>
			<Anchors>
				<Anchor point="LEFT">
					<Offset x="3" y="0"/>
				</Anchor>
			</Anchors>
		</HighlightTexture>
		<DisabledTexture file="Interface\Buttons\UI-PlusButton-Disabled">
			<Size x="16" y="16"/>
			<Anchors>
				<Anchor point="LEFT">
					<Offset x="3" y="0"/>
				</Anchor>
			</Anchors>
		</DisabledTexture>
		<ButtonText name="$parentText" inherits="GameFontNormal" justifyH="LEFT">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentHighlight" relativePoint="RIGHT">
					<Offset x="4" y="0"/>
				</Anchor>
			</Anchors>
		</ButtonText>
		<NormalFont inherits="GameFontNormal" justifyH="LEFT"/>
		<HighlightFont inherits="GameFontHighlight" justifyH="LEFT"/>
		<DisabledFont inherits="GameFontDisable" justifyH="LEFT"/>
	</Button>
	
	<Button name="ATSWToolTemplate" hidden="true" virtual="true">
		<Size x="50" y="12"/>
		<Layers>
			<Layer level="BORDER">
				<Texture name="$parentTexture">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="0" y="-0.5"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.08" right="0.92" top="0.08" bottom="0.92"/>
				</Texture>
			</Layer>
		</Layers>
		<ButtonText name="$parentText" inherits="GameFontHighlightSmall" justifyH="LEFT">
			<Size x="0" y="0"/>
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentTexture" relativePoint="RIGHT">
					<Offset x="1" y="0"/>
				</Anchor>
			</Anchors>
		</ButtonText>
		<Scripts>
			<OnClick>
				ATSWTool_OnClick(arg1)
			</OnClick>
			<OnEnter>
				local Index = ATSW_GetPositionFromGame(this.Name)
				
				if Index then
					getglobal(this:GetName() .. "Text"):SetTextColor(1, 1, 1)
					
					GameTooltip:SetOwner(this, "ANCHOR_BOTTOMRIGHT")
					
					ATSW_TooltipSetSkill(GameTooltip, Index)
				end
			</OnEnter>
			<OnLeave>
				getglobal(this:GetName() .. "Text"):SetTextColor(this.R, 0, 0)
				ATSWItemButton_OnLeave()
			</OnLeave>
		</Scripts>
		<NormalFont justifyH="LEFT">
			<FontHeight val="10"/>
			<Shadow>
				<Color a="1" r="0" g="0" b="0"/>
				<Offset x="0.2" y="0"/>
			</Shadow>
			<Color r="0" g="0" b="0" a="1"/>
		</NormalFont>
		<HighlightFont justifyH="LEFT">
			<FontHeight val="10"/>
			<Shadow>
				<Color a="1" r="0" g="0" b="0"/>
				<Offset x="1" y="-1"/>
			</Shadow>
			<Color r="1" g="1" b="1" a="1"/>
		</HighlightFont>
		<DisabledFont  justifyH="LEFT">
			<FontHeight val="10"/>
			<Shadow>
				<Color a="1" r="0" g="0" b="0"/>
				<Offset x="0.2" y="0"/>
			</Shadow>
			<Color r="0" g="0" b="0" a="1"/>
		</DisabledFont>
	</Button>
	
	<Frame name="ATSWDialogBoxFrame_OnlyOK" virtual="true" toplevel="true" frameStrata="DIALOG" hidden="true">
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<EdgeSize val="32"/>
			<TileSize val="32"/>
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
		</Backdrop>
		<Frames>
			<Button name="$parentOKButton">
				<Size x="110" y="30"/>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset x="0" y="16"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						HideUIPanel(this:GetParent())
					</OnClick>
				</Scripts>
				<NormalTexture inherits="DialogButtonNormalTexture"/>
				<PushedTexture inherits="DialogButtonPushedTexture"/>
				<HighlightTexture inherits="DialogButtonHighlightTexture"/>
				<ButtonText inherits="DialogButtonNormalText" text="ATSWOFOKAY_TEXT"/>
			</Button>
		</Frames>
	</Frame>
	
	<Button name="ATSWTaskButtonTemplate" hidden="true" virtual="true">
		<Layers>
			<Layer level="BACKGROUND">
				<FontString name="$parentSubText" inherits="GameFontHighlightSmall" justifyH="LEFT"/>
				<FontString name="$parentTimeCost" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="255.5" y="0"/>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="BACKGROUND">
				<Texture name="$parentQualityTexture" file="Interface\Buttons\UI-ActionButton-Border" hidden="true">
					<Size x="16.9" y="17"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="0.6" y="-0.1"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.24" right="0.76" top="0.24" bottom="0.76"/>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="$parentTexture">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="1" y="0"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.09" right="0.92" top="0.09" bottom="0.92"/>
				</Texture>
			</Layer>
		</Layers>
		<HighlightTexture name="$parentHighlight" file="Interface\Buttons\UI-PlusButton-Hilight" alphaMode="ADD">
			<Size x="16" y="16"/>
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentTexture" relativePoint="LEFT"/>
			</Anchors>
			<TexCoords left="0.2" right="0.8" top="0.2" bottom="0.8"/>
		</HighlightTexture>
		<ButtonText name="$parentText" inherits="GameFontNormal" justifyH="LEFT">
			<Size x="0" y="0"/>
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentTexture" relativePoint="RIGHT">
					<Offset x="2" y="0"/>
				</Anchor>
			</Anchors>
		</ButtonText>
		<NormalFont inherits="GameFontNormal" justifyH="LEFT"/>
		<HighlightFont inherits="GameFontHighlight" justifyH="LEFT"/>
		<DisabledFont inherits="GameFontDisable" justifyH="LEFT"/>
		<Scripts>
			<OnLoad>
				getglobal(this:GetName() .. "Highlight"):SetDesaturated(true)
			</OnLoad>
			<OnClick>
				ATSWTask_OnClick(arg1)
			</OnClick>
			<OnEnter>
				getglobal(this:GetName()):SetTextColor(
				HIGHLIGHT_FONT_COLOR.r, HIGHLIGHT_FONT_COLOR.g, HIGHLIGHT_FONT_COLOR.b)
			</OnEnter>
			<OnLeave>
				getglobal(this:GetName()):SetTextColor(this.R, this.G, this.B)
			</OnLeave>
		</Scripts>
	</Button>
	
	<Button name="ATSWReagentTemplate" virtual="true" hidden="true">
		<Size x="40" y="40"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentQualityTexture" file="Interface\Buttons\UI-EmptySlot-White" hidden="true">
					<Size x="47.3" y="47.5"/>
					<Anchors>
						<Anchor point="CENTER">
							<Offset x="0.4" y="-0.75"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.15" right="0.85" top="0.15" bottom="0.85"/>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="$parentTexture">
					<Size x="40" y="40"/>
					<Anchors>
						<Anchor point="LEFT"/>
					</Anchors>
					<TexCoords left="0.06" right="0.94" top="0.06" bottom="0.94"/>
				</Texture>
				<FontString name="$parentTitle" inherits="ATSWReagentFont" justifyH="CENTER">
					<Size x="96" y="0"/>
					<Anchors>
						<Anchor point="TOP" relativeTo="$parentTexture" relativePoint="BOTTOM">
							<Offset x="0" y="-2"/>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="ARTWORK">
				<FontString name="$parentAmount" inherits="NumberFontNormalYellow" justifyH="RIGHT">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativeTo="$parentTexture" relativePoint="BOTTOMRIGHT">
							<Offset x="-1" y="2"/>
						</Anchor>
					</Anchors>
					<Shadow>
						<Color a="1" r="0" g="0" b="0"/>
						<Offset x="1" y="-1"/>
					</Shadow>
					<Color r="1" g="1" b="1" a="1"/>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				this:RegisterForClicks("LeftButtonUp","RightButtonUp")
			</OnLoad>
			<OnEnter>
				GameTooltip:SetOwner(this, "ANCHOR_BOTTOMRIGHT")
				
				local RecipeIndex, ReagentIndex = ATSW_GetPositionFromGame(ATSW_RecipeSelected()), this:GetID()
				
				if ATSW_TradeSkill() then
					GameTooltip:SetTradeSkillItem	(RecipeIndex, ReagentIndex)
				else
					GameTooltip:SetCraftItem		(RecipeIndex, ReagentIndex)
				end
				
				CursorUpdate()
				
				if this.Position then
					RTexture = getglobal(this:GetName() .. "QualityTexture")
					
					RTexture:SetVertexColor(1, 1, 1)
					RTexture:Show()
				end
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
				ResetCursor()
				
				RTexture = getglobal(this:GetName() .. "QualityTexture")
				
				if this.R and this.G and this.B and not (this.R == 1 and this.G == 1 and this.B == 1) then
					RTexture:SetVertexColor(this.R, this.G, this.B)
				else
					RTexture:Hide()
				end
			</OnLeave>
			<OnUpdate>
				CursorOnUpdate()
			</OnUpdate>
			<OnClick>
				local RecipeIndex, ReagentIndex = ATSW_GetPositionFromGame(ATSW_RecipeSelected()), this:GetID()
				
				if ATSW_TradeSkill() then
					this.Link = GetTradeSkillReagentItemLink(RecipeIndex, ReagentIndex)
				else
					this.Link = GetCraftReagentItemLink(RecipeIndex, ReagentIndex)
				end
				
				ATSWRecipe_OnClick()
			</OnClick>
		</Scripts>
	</Button>
	
	<Frame name="ATSWRFReagentTemplate" virtual="true" hidden="true">
    	<Size x="700" y="18"/>
        <Frames>
			<Button name="$parentItem" inherits="ATSWRFTextTemplate_300">
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset x="30" y="0"/>
                    </Anchor>
                </Anchors>
				<NormalTexture name="$parentNormalTexture">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="-18" y="-1"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.083" right="0.92" top="0.083" bottom="0.92"/>
				</NormalTexture>
				<HighlightTexture name="$parentHighlight" file="Interface\Buttons\UI-PlusButton-Hilight" alphaMode="ADD">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentNormalTexture" relativePoint="LEFT"/>
					</Anchors>
					<TexCoords left="0.2" right="0.8" top="0.2" bottom="0.8"/>
				</HighlightTexture>
            </Button>
			<Button name="$parentBags" inherits="ATSWRFTextTemplate_60">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentItem" relativePoint="RIGHT">
                        <Offset x="-16" y="0"/>
                    </Anchor>
                </Anchors>
            </Button>
			<Button name="$parentBank" inherits="ATSWRFTextTemplate_60">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentBags" relativePoint="RIGHT"/>
                </Anchors>
            </Button>
			<Button name="$parentAlt" inherits="ATSWRFTextTemplate_60">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentBank" relativePoint="RIGHT"/>
                </Anchors>
				<Scripts>
					<OnEnter>
						ATSW_GetAltsLocationIntoTooltip(this:GetParent().Name)
					</OnEnter>
					<OnLeave>
						ATSWRecipeTooltip:Hide()
					</OnLeave>
				</Scripts>
            </Button>
			<Button name="$parentMerchant">
				<Size x="16" y="16"/>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentAlt" relativePoint="RIGHT">
                        <Offset x="28" y="-1"/>
                    </Anchor>
                </Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture name="$parentTexture" file="Interface\Buttons\UI-CheckBox-Check">
							<Size x="16" y="16"/>
							<Anchor point="TOPLEFT"/>
						</Texture>
					</Layer>
				</Layers>
            </Button>
		</Frames>
		<Scripts>
			<OnLoad>
				getglobal(this:GetName() .. "ItemHighlight"):SetDesaturated(true)
			</OnLoad>
		</Scripts>
	</Frame>
	
	<Frame name="ATSWCompatAddonTemplate" virtual="true" hidden="true">
    	<Size x="200" y="18"/>
        <Frames>
			<Button name="$parentInstalled">
				<Size x="16" y="16"/>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset x="28" y="-1"/>
                    </Anchor>
                </Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture name="$parentTexture" file="Interface\Buttons\UI-CheckBox-Check">
							<Size x="16" y="16"/>
							<Anchor point="TOPLEFT"/>
						</Texture>
					</Layer>
				</Layers>
            </Button>
			
			<Button name="$parentName">
				<Size x="180" y="16"/>
				<ButtonText name="$parentText" inherits="GameFontNormal" justifyH="left">
					<Size x="80" y="12"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="18" y="0"/>
						</Anchor>
					</Anchors>
					<Color r="1" g="1" b="1" a="1"/>
				</ButtonText>
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset x="70" y="0"/>
                    </Anchor>
                </Anchors>
				<NormalTexture name="$parentNormalTexture">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentText">
							<Offset x="-18" y="-1"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.083" right="0.92" top="0.083" bottom="0.92"/>
				</NormalTexture>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="$parentVersion" font="Fonts\FRIZQT__.ttf" justifyH="LEFT">
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT">
									<Offset x="16" y="0"/>
								</Anchor>
							</Anchors>
							<FontHeight val="8"/>
							<Color r="0.5" g="0.5" b="0.5" a="1"/>
						</FontString>
					</Layer>
				</Layers>
            </Button>
		</Frames>
		<Layers>
			<Layer level="ARTWORK">
				<Texture name="$parentEffect">
					<Size x="200" y="200"/>
					<Anchors>
						<Anchor point="CENTER">
							<Offset x="165" y="-15"/>
						</Anchor>
					</Anchors>
				</Texture>
				<FontString name="$parentEffectDescription" inherits="ATSWYellowFont" justifyH="LEFT">
					<Anchors>
						<Anchor point="CENTER" relativeTo="$parentEffect" relativePoint="TOP">
							<Offset x="-4" y="-5"/>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
	</Frame>
	
	<Font name="ATSWFont" virtual="true" font="Fonts\FRIZQT__.ttf">
		<FontHeight val="17"/>
		<Color r="0" g="0" b="0" a="1"/>
	</Font>
	
	<Font name="CostFont" virtual="true" font="Fonts\FRIZQT__.ttf">
		<FontHeight val="11"/>
		<Color r="0" g="0" b="0" a="1"/>
	</Font>
	
	<Font name="ATSWReagentFont" virtual="true" font="Fonts\FRIZQT__.ttf">
		<FontHeight val="11"/>
		<Shadow>
			<Color a="1" r="0" g="0" b="0"/>
			<Offset x="0" y="0"/>
		</Shadow>
	</Font>
	
	<Font name="ATSWYellowFont" virtual="true" font="Fonts\FRIZQT__.ttf" outline="NORMAL">
		<FontHeight val="10"/>
		<Color r="1" g="0.82" b="0" a="1"/>
	</Font>
	
	<Font name="ATSWYellowFontThin" virtual="true" font="Fonts\FRIZQT__.ttf" outline="THIN">
		<FontHeight val="10"/>
		<Color r="1" g="0.82" b="0" a="1"/>
	</Font>
	
	<CheckButton name="ATSWTabTemplate" virtual="true" hidden="true">
		<Size x="32" y="32"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\SpellBook\SpellBook-SkillLineTab">
					<Size x="64" y="64"/>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="-3" y="11"/>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnClick>
				if this.Name ~= ATSW_Profession[ATSW_realm][ATSW_player] then
					CastSpellByName(this.Name)
				else
					this:SetChecked()
				end
			</OnClick>
			<OnEnter>
				GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
				GameTooltip:SetText(this.Name)
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
		<NormalTexture/>
		<HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD"/>
		<CheckedTexture file="Interface\Buttons\CheckButtonHilight" alphaMode="ADD"/>
	</CheckButton>
	
	<StatusBar name="ATSWProgressBar" drawLayer="ARTWORK" hidden="true">
		<Size x="346" y="18"/>
		<Frames>
			<Frame name="$parentSpark">
				<Size x="22" y="24"/>
				<Layers>
					<Layer level="OVERLAY">
						<Texture name="$parentSparkTexture" file="Interface\CastingBar\UI-CastingBar-Spark" alphaMode="ADD">
						<TexCoords left="0" right="1" top="0.3" bottom="0.7"/>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				this.Working = false
			</OnLoad>
		</Scripts>
		<BarTexture name="$parentTexture" file="Interface\PaperDollInfoFrame\UI-Character-Skills-Bar"/>
	</StatusBar>
	
	<Frame name="ATSWProgressBarBorder" parent="ATSWProgressBar">
		<Layers>
			<Layer level="OVERLAY">
				<Texture name="ATSWProgressBarGlow" file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\ProgressBarFlash">
					<Size x="405" y="54"/>
					<Anchors>
						<Anchor point="CENTER" relativeTo="ATSWProgressBar">
							<Offset x="0" y="-0.5"/>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Anchors>
			<Anchor point="TOPLEFT" relativeTo="ATSWProgressBar" relativePoint="TOPLEFT">
				<Offset x="-10" y="10"/>
			</Anchor>
			<Anchor point="BOTTOMRIGHT" relativeTo="ATSWProgressBar" relativePoint="BOTTOMRIGHT">
				<Offset x="10" y="-9.5"/>
			</Anchor>
		</Anchors>
		<Backdrop edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<EdgeSize val="26"/>
			<TileSize val="16"/>
			<BorderColor r="1" g="1" b="1" a="1"/>
		</Backdrop>
	</Frame>
	
	<Button name="ATSWProgressBarStop" inherits="UIPanelButtonTemplate" text="ATSW_STOP" hidden="true">
		<Size x="54" y="20"/>
		<Anchors>
			 <Anchor point="RIGHT" relativeTo="ATSWProgressBarBorder" relativePoint="RIGHT">
				<Offset x="-9" y="0"/>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<FontString name="$parentSubText" inherits="GameFontHighlightSmall" justifyH="RIGHT">
					<Anchors>
						 <Anchor point="RIGHT" relativePoint="LEFT">
							<Offset x="-3" y="-0.1"/>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnClick>
				SpellStopCasting()
				ATSW_StopProcessing()
			</OnClick>
		</Scripts>
		<HighlightFont>
			<Color r="1" g="0.82" b="0"/>
		</HighlightFont>
	</Button>
	
	<Frame name="ATSWFrameSideTabsFrame">
		<Size x="26" y="200"/>
	</Frame>
	
	<Frame name="ATSWFrame" enableMouse="true" hidden="true" parent="UIParent" frameStrata="HIGH">
		<HitRectInsets>
			<AbsInset left="12" right="35" top="12" bottom="12"/>
		</HitRectInsets>
        <Size x="768" y="512"/>
        <Anchors>
            <Anchor point="TOPLEFT">
                <Offset x="0" y="-104"/>
            </Anchor>
        </Anchors>
        <Layers>
        	<Layer level="BACKGROUND">
                <Texture name="ATSWFramePortrait">
                    <Size x="62" y="62"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="7" y="-5"/>
                        </Anchor>
                    </Anchors>
        		</Texture>
				<Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-TaxiFrame-InBetween1">
                    <Size x="128" y="512"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                        	<Offset x="256" y="0"/>
                        </Anchor>
                    </Anchors>
                </Texture>
				<Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-TaxiFrame-BotLeftReplacement">
                    <Size x="256" y="256"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="0" y="-256"/>
                        </Anchor>
                    </Anchors>
                </Texture>
                <Texture file="Interface\TaxiFrame\UI-TaxiFrame-TopRight">
                    <Size x="128" y="256"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="640" y="0"/>
                        </Anchor>
                    </Anchors>
                </Texture>
                <Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-TaxiFrame-BotRightReplacement">
                    <Size x="128" y="256"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="640" y="-256"/>
                        </Anchor>
                    </Anchors>
                </Texture>
			</Layer>
			<Layer level="BORDER">
                <Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-TaxiFrame-InBetween2">
                    <Size x="514" y="512"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="255" y="0"/>
                        </Anchor>
                    </Anchors>
                </Texture>
				<Texture file="Interface\TaxiFrame\UI-TaxiFrame-TopLeft">
                    <Size x="256" y="256"/>
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                    </Anchors>
                </Texture>
	      	</Layer>
			<Layer level="ARTWORK">
				<Texture name="ATSWBackground">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="20" y="-75"/>
						</Anchor>
						<Anchor point="BOTTOMRIGHT">
							<Offset x="-446" y="19"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.126" right="0.846" top="0.002" bottom="0.998"/>
				</Texture>
				<Texture name="ATSWParchment" file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\Parchment">
					<Anchors>
						<Anchor point="TOPRIGHT">
							<Offset x="-44" y="-74"/>
						</Anchor>
						<Anchor point="BOTTOMLEFT">
							<Offset x="346" y="173"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.034" right="0.968" top="0.173" bottom="0.83"/>
				</Texture>
				<Texture name="ATSWScrollBackgroundTop" file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
					<Size x="28" y="117"/>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="319" y="-73"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="0.46175" top="0.0234375" bottom="0.9609375"/>
				</Texture>
				<Texture name="ATSWScrollBackgroundMiddle" file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
					<Size x="28" y="183"/>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="319" y="-188"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.53125" right="1.0" top="0.03125" bottom="0.7"/>
				</Texture>
				<Texture name="ATSWScrollBackgroundBottom" file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
					<Size x="28" y="126"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT">
							<Offset x="319" y="17"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.53125" right="0.99" top="0.03125" bottom="1.0"/>
				</Texture>
				<Texture name="ATSWWeb" file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\Web">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="347" y="-346"/>
						</Anchor>
						<Anchor point="BOTTOMRIGHT">
							<Offset x="-68" y="50"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.064" right="0.935" top="0.289" bottom="0.71"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture name="ATSWHorizontalBar1Left" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
					<Size x="293.5" y="14"/>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="345.75" y="-335"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.022" right="1" top="0.03" bottom="0.25"/>
				</Texture>
				<Texture name="ATSWHorizontalBar1LeftAddon" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
					<Size x="90" y="16"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="ATSWHorizontalBar1Left" relativePoint="RIGHT">
							<Offset x="0" y="1"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="0.292" top="0.25" bottom="0.5"/>
				</Texture>
				<Texture name="ATSWHorizontalBar2Left" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
					<Size x="292.5" y="16"/>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="346.85" y="-458"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.02" right="1.0" top="0" bottom="0.25"/>
				</Texture>
				<Texture name="ATSWHorizontalBar2LeftAddon" file="Interface\ClassTrainerFrame\UI-ClassTrainer-HorizontalBar">
					<Size x="90" y="16"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="ATSWHorizontalBar2Left" relativePoint="RIGHT"/>
					</Anchors>
					<TexCoords left="0" right="0.29296875" top="0.25" bottom="0.5"/>
				</Texture>
				<FontString name="ATSWRecipeName" inherits="ATSWFont" justifyH="CENTER">
					<Size x="480" y="0"/>
					<Anchors>
						<Anchor point="TOP">
							<Offset x="150" y="-77"/>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="ATSWRecipeCooldown" inherits="GameFontRedSmall">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="362" y="-156"/>
						</Anchor>
					</Anchors>
					<Shadow>
						<Color a="1" r="0" g="0" b="0"/>
						<Offset x="0" y="0"/>
					</Shadow>
				</FontString>
				<FontString name="ATSWToolsLabel" inherits="ATSWYellowFont" text="ATSW_TOOLS" hidden="true">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="362" y="-170"/>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="ATSWReagentsLabel" inherits="ATSWYellowFont" text="SPELL_REAGENTS" hidden="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="ATSWToolsLabel" relativePoint="BOTTOMLEFT">
							<Offset x="-1" y="-4"/>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="ATSWCostText" inherits="CostFont" hidden="true">
					<Anchors>
						<Anchor point="LEFT" relativeTo="ATSWReagentsLabel" relativePoint="RIGHT">
							<Offset x="" y="-0.5"/>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="ATSWCraftDescription" inherits="CostFont" justifyH="LEFT">
					<Size x="354" y="0"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="ATSWReagentsLabel" relativePoint="BOTTOMLEFT">
							<Offset x="-2" y="-15"/>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="ATSWSearchLabel" inherits="GameFontHighlightSmall" text="ATSW_SEARCHLABEL">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="89" y="-57"/>
						</Anchor>
					</Anchors>
				</FontString>
				<Texture name="ATSWSearchIcon" file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\Search" parent="ATSWSearchLabel">
					<Size x="12" y="12"/>
					<Anchors>
						<Anchor point="RIGHT" relativeTo="ATSWSearchLabel" relativePoint="LEFT">
							<Offset x="-3" y="0.5"/>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
	    </Layers>
	    <Frames>
			<StatusBar name="ATSWRankFrame" drawLayer="BACKGROUND" minValue="0" maxValue="1" defaultValue="0">
				<Frames>
					<Frame name="$parentSpark">
						<Size x="22" y="24"/>
						<Layers>
							<Layer level="OVERLAY">
								<Texture name="$parentTexture" file="Interface\CastingBar\UI-CastingBar-Spark" alphaMode="ADD">
								<TexCoords left="0" right="1" top="0.3" bottom="0.7"/>
								</Texture>
							</Layer>
						</Layers>
					</Frame>
				</Frames>
				<Size x="637" y="17"/>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="71" y="-16"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="$parentRank" inherits="GameFontHighlightSmall" justifyH="RIGHT">
							<Size x="100" y="0"/>
							<Anchors>
								<Anchor point="RIGHT">
									<Offset x="-10" y="0.5"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
					<Layer level="BACKGROUND">
						<Texture name="$parentBackground">
							<Color r="0" g="0" b="0.75" a="0.4"/>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						getglobal(this:GetName() .. "Background"):SetVertexColor(0.0, 0.0, 0.75, 0.5)
						getglobal(this:GetName() .. "SparkTexture"):SetVertexColor(0.0, 0.0, 0.75, 1)
					</OnLoad>
				</Scripts>
				<BarTexture name="$parentBar" file="Interface\PaperDollInfoFrame\UI-Character-Skills-Bar" />
				<BarColor r="0" g="0" b="1" a="0.6"/>
			</StatusBar>
			
			<Frame>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="ATSWFrameTitleText" inherits="GameFontNormal">
							<Size x="600" y="14"/>
							<Anchors>
								<Anchor point="TOP" relativeTo="ATSWFrame" relativePoint="TOP">
									<Offset x="0" y="-17"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			
            <Button name="ATSWFrameCloseButton" inherits="UIPanelCloseButton">
				<Size x="20" y="20"/>
                <Anchors>
                    <Anchor point="TOPRIGHT" relativeTo="ATSWFrame" relativePoint="TOPRIGHT">
                        <Offset x="-36" y="-14"/>
                    </Anchor>
                </Anchors>
				<Scripts>
					<OnLoad>
						this:GetNormalTexture():SetTexCoord(0.20, 0.8, 0.2, 0.8)
						this:GetPushedTexture():SetTexCoord(0.20, 0.8, 0.2, 0.8)
					</OnLoad>
					<OnClick>
						CloseATSW()
					</OnClick>
				</Scripts>
            </Button>
			
			<CheckButton name="ATSWCategorySortCheckbox" checked="true" inherits="UIRadioButtonTemplate">
                <Size x="20" y="20"/>
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="ATSWFrame">
                        <Offset x="142" y="-33"/>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <FontString name="$parentText2" inherits="GameFontHighlightSmall" text="ATSW_SORTBYCATEGORY">
                            <Anchors>
                                <Anchor point="LEFT" relativePoint="RIGHT">
                                    <Offset x="-2" y="1"/>
                                </Anchor>
                            </Anchors>
                        </FontString>
                        <FontString name="ATSWSortByText" inherits="GameFontHighlightSmall" text="ATSW_SORTBY">
                            <Anchors>
                                <Anchor point="RIGHT" relativePoint="LEFT">
                                    <Offset x="-3" y="1"/>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Scripts>
					<OnLoad>
						this.Sort = "Category"
					</OnLoad>
                    <OnClick>
						ATSW_SortCheckbox_OnClick()
                    </OnClick>
                </Scripts>
            </CheckButton>
			
			<CheckButton name="ATSWDifficultySortCheckbox" inherits="UIRadioButtonTemplate" text="ATSW_SORTBYDIFFICULTY">
                <Size x="20" y="20"/>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="ATSWCategorySortCheckbox"  relativeto="RIGHT">
                        <Offset x="72" y="0"/>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <FontString name="$parentText2" inherits="GameFontHighlightSmall" text="ATSW_SORTBYDIFFICULTY">
                            <Anchors>
                                <Anchor point="LEFT" relativePoint="RIGHT">
                                    <Offset x="-2" y="1"/>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Scripts>
					<OnLoad>
						this.Sort = "Difficulty"
					</OnLoad>
                    <OnClick>
						ATSW_SortCheckbox_OnClick()
                    </OnClick>
                </Scripts>
            </CheckButton>

			<CheckButton name="ATSWNameSortCheckbox" inherits="UIRadioButtonTemplate">
                <Size x="20" y="20"/>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="ATSWDifficultySortCheckbox" relativeto="RIGHT">
                        <Offset x="72" y="0"/>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <FontString name="$parentText2" inherits="GameFontHighlightSmall" text="ATSW_SORTBYNAMES">
                            <Anchors>
                                <Anchor point="LEFT" relativePoint="RIGHT">
                                    <Offset x="-2" y="1"/>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Scripts>
					<OnLoad>
						this.Sort = "Name"
					</OnLoad>
                    <OnClick>
						ATSW_SortCheckbox_OnClick()
                    </OnClick>
                </Scripts>
            </CheckButton>

			<CheckButton name="ATSWCustomSortCheckbox" inherits="UIRadioButtonTemplate">
                <Size x="20" y="20"/>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="ATSWNameSortCheckbox"  relativeto="RIGHT">
                        <Offset x="63" y="0"/>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <FontString name="$parentText2" inherits="GameFontHighlightSmall" text="ATSW_CUSTOMSORTING">
                            <Anchors>
                                <Anchor point="LEFT" relativePoint="RIGHT">
                                    <Offset x="-2" y="1"/>
                                </Anchor>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Scripts>
					<OnLoad>
						this.Sort = "Custom"
					</OnLoad>
                    <OnClick>
						ATSW_SortCheckbox_OnClick()
                    </OnClick>
                </Scripts>
            </CheckButton>
			
			<Button name="ATSWCustomEditorButton" inherits="UIPanelButtonTemplate" text="ATSW_CSBUTTON" hidden="true">
				<Size x="90" y="20"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="ATSWCustomSortCheckbox" relativePoint="BOTTOMLEFT">
						<Offset x="0" y="4"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						this:SetWidth(this:GetTextWidth() + 30)
					</OnLoad>
					<OnClick>
						ATSW_SwitchToFrame(ATSWCSFrame)
					</OnClick>
				</Scripts>
				<HighlightFont>
					<Color r="1" g="0.82" b="0"/>
				</HighlightFont>
			</Button>

			<EditBox name="ATSWSearchBox" letters="100" historyLines="0" autoFocus="false">
				<Size x="170" y="20"/>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="75" y="-51"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentLeft" file="Interface\Common\Common-Input-Border">
							<Size x="8" y="20"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="-5" y="0"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.0625" top="0" bottom="0.625"/>
						</Texture>
						<Texture name="$parentRight" file="Interface\Common\Common-Input-Border">
							<Size x="8" y="20"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
							<TexCoords left="0.9375" right="1.0" top="0" bottom="0.625"/>
						</Texture>
						<Texture name="$parentMiddle" file="Interface\Common\Common-Input-Border">
							<Size x="10" y="20"/>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
								<Anchor point="RIGHT" relativeTo="$parentRight" relativePoint="LEFT"/>
							</Anchors>
							<TexCoords left="0.0625" right="0.9375" top="0" bottom="0.625"/>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnEnterPressed>
						this:ClearFocus()
					</OnEnterPressed>
					<OnEscapePressed>
						this:ClearFocus()
					</OnEscapePressed>
					<OnTextChanged>
						local text = this:GetText()
						
						ATSWSearchBox_OnTextChanged(text)
						
						if text == "" then
							ATSWSearchBoxClear:Hide()
						else
							ATSWSearchBoxClear:Show()
							ATSWSearchLabel:Hide()
							ATSWSearchIcon:Hide()
						end
					</OnTextChanged> 
					<OnEditFocusLost>
						local text = this:GetText()
						
						this:HighlightText(0, 0)
						
						if text == "" then
							ATSWSearchLabel:Show()
							ATSWSearchIcon:Show()
						else
							ATSWSearchLabel:Hide()
							ATSWSearchIcon:Hide()
						end
					</OnEditFocusLost>
					<OnEditFocusGained>
						this:HighlightText()
						ATSWSearchLabel:Hide()
						ATSWSearchIcon:Hide()
					</OnEditFocusGained>
				</Scripts>
				<FontString inherits="ChatFontNormal"/>
			</EditBox>
			
			<Button name="ATSWSearchHelpButton" inherits="UIPanelButtonTemplate" frameLevel="8" text="?">
				<Size x="18" y="20"/>
				<Anchors>
					 <Anchor point="LEFT" relativeTo="ATSWSearchBox" relativePoint="RIGHT">
                        <Offset x="1" y="0"/>
                    </Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if ATSWSearchHelpFrame:IsVisible() then
							ATSWSearchHelpFrame:Hide()
						else
							ATSWSearchHelpFrame:Show()
						end
					</OnClick>
				</Scripts>
				<HighlightFont>
					<Color r="1" g="0.82" b="0"/>
				</HighlightFont>
			</Button>
			
			<CheckButton name="ATSWAttributesButton" inherits="UICheckButtonTemplate" virtual="true">
				<Size x="20" y="20"/>
				<Anchors>
					<Anchor point="LEFT" relativeTo="ATSWSearchHelpButton" relativePoint="RIGHT">
						<Offset x="5" y="0"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="ATSWAttributesButtonText" inherits="ATSWYellowFontThin" text="ATSW_ATTRIBUTES" justifyH="LEFT">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick>
						if this:GetChecked() then
							PlaySound("igMainMenuOptionCheckBoxOn")
						else
							PlaySound("igMainMenuOptionCheckBoxOff")
						end
						
						ATSW_ShowAttributes(this:GetChecked() and true or false)
						
						if ATSWFrame:IsVisible() then
							ATSW_UpdateRecipes()
						end
					</OnClick>
				</Scripts>
			</CheckButton>
			
			<Frame name="ATSWSearchHelpFrame" inherits="ATSWDialogBoxFrame_OnlyOK" frameStrata="HIGH" hidden="true">
				<Size x="420" y="440"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="ATSWFrame" relativePoint="TOPRIGHT">
						<Offset x="20" y="-22"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture name="ATSWHelpMenuHeader" file="Interface\DialogFrame\UI-DialogBox-Header">
							<Size>
								<AbsDimension x="256" y="64"/>
							</Size>
							<Anchors>
								<Anchor point="TOP">
									<Offset>
										<AbsDimension x="0" y="12"/>
									</Offset>
								</Anchor>
							</Anchors>
						</Texture>
						<FontString name="ATSWHelpTitle" inherits="GameFontNormal" text="ATSW_HELP_TITLE">
							<Anchors>
								<Anchor point="TOP" relativeTo="ATSWHelpMenuHeader">
									<Offset x="0" y="-14"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnShow>
						PlaySound("igMainMenuOption")
						ATSWSearchHelpButton:SetButtonState("PUSHED", true)
					</OnShow>
					<OnHide>
						PlaySound("igMainMenuOptionCheckBoxOn")
						ATSWSearchHelpButton:SetButtonState("NORMAL", false)
					</OnHide>
				</Scripts>
			</Frame>
			
			<Button name="ATSWSearchBoxClear" inherits="UIPanelButtonTemplate" frameLevel="8" hidden="true" text="ATSW_CLEAR">
				<Size x="54" y="18"/>
				<Anchors>
					 <Anchor point="RIGHT" relativeTo="ATSWSearchBox" relativePoint="RIGHT">
                        <Offset x="-2" y="0"/>
                    </Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						this:SetFont("Fonts\\FRIZQT__.ttf", 10.5)
						this:SetWidth(this:GetTextWidth()+20)
					</OnLoad>
					<OnClick>
						ATSWSearchBox:SetText("")
						ATSWSearchBox:ClearFocus()
						ATSWSearchLabel:Show()
						ATSWSearchIcon:Show()
					</OnClick>
				</Scripts>
				<HighlightFont>
					<Color r="1" g="0.82" b="0"/>
				</HighlightFont>
			</Button>
			
			<Frame name="ATSWSubClassDropDown" inherits="UIDropDownMenuTemplate" id="1">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="427" y="-40"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						ATSWSubClassDropDown_OnLoad()
					</OnLoad>
					<OnShow>
						ATSWSubClassDropDown_OnShow()
					</OnShow>
				</Scripts>
			</Frame>
			
			<Frame name="ATSWInvSlotDropDown" inherits="UIDropDownMenuTemplate" id="2">
				<Anchors>
					<Anchor point="LEFT" relativeTo="ATSWSubClassDropDown" relativePoint="RIGHT">
						<Offset x="-27" y="0"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						ATSWInvSlotDropDown_OnLoad()
					</OnLoad>
					<OnShow>
						ATSWInvSlotDropDown_OnShow()
					</OnShow>
				</Scripts>
			</Frame>
			
			<Frame name="ATSWHighlight" hidden="true" frameLevel="1">
				<Anchors>
					<Anchor point="LEFT">
						<Offset x="20" y="0"/>
					</Anchor>
					<Anchor point="RIGHT" relativeTo="ATSWScrollBackgroundTop" relativePoint="LEFT">
						<Offset x="3" y="0"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture name="$parentTexture" file="Interface\Buttons\UI-Listbox-Highlight2"/>
					</Layer>
				</Layers>
			</Frame>
			
			<ScrollFrame name="ATSWListScrollFrame" inherits="FauxScrollFrameTemplate" hidden="true">
				<Size x="300" y="418"/>
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ATSWScrollBackgroundTop" relativePoint="TOPRIGHT">
						<Offset x="-26.4" y="-1.5"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnVerticalScroll>
						if ATSWListScrollFrameScrollBar:IsVisible() then
							ATSW_ScrollOffset[ATSW_realm][ATSW_player][ATSW_Profession[ATSW_realm][ATSW_player]] = ATSWListScrollFrameScrollBar:GetValue()
							FauxScrollFrame_OnVerticalScroll(ATSW_TRADESKILL_HEIGHT, ATSW_UpdateRecipes)
						end
					</OnVerticalScroll>
				</Scripts>
			</ScrollFrame>
			
			<Button name="ATSWRecipeIcon">
				<Size x="53" y="53"/>
				<Anchors>
					<Anchor point="TOP">
						<Offset x="151" y="-99"/>
					</Anchor>
				</Anchors>
				<NormalTexture name="$parentNormalTexture">
					<TexCoords left="0.075" right="0.925" top="0.075" bottom="0.925"/>
				</NormalTexture>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentQualityTexture" file="Interface\Buttons\UI-EmptySlot-White" hidden="true">
							<Size x="70" y="71"/>
							<Anchors>
								<Anchor point="CENTER">
									<Offset x="0.75" y="-0.75"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0.11" right="0.89" top="0.11" bottom="0.89"/>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<FontString name="ATSWRecipeIconAmount" inherits="NumberFontNormal" justifyH="RIGHT" hidden="false">
							<Anchors>
								<Anchor point="BOTTOMRIGHT">
									<Offset x="-3" y="3"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						this:RegisterForClicks("LeftButtonUp", "RightButtonUp")
					</OnLoad>
					<OnClick>
						ATSWRecipe_OnClick()
					</OnClick>
					<OnEnter>
						if ATSW_RecipeSelected() then
							GameTooltip:SetOwner(this, "ANCHOR_BOTTOMRIGHT")
							
							ATSW_TooltipSetSkill(GameTooltip, ATSW_GetPositionFromGame(ATSW_RecipeSelected()))
							
							CursorUpdate()
						end
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide()
						ResetCursor()
					</OnLeave>
					<OnUpdate>
						CursorOnUpdate()
					</OnUpdate>
				</Scripts>
			</Button>
			
			<Button name="ATSWPreviousItemButton" hidden="true" >
                <Size x="32" y="32"/>
                <Anchors>
                    <Anchor point="RIGHT">
                        <Offset x="-42" y="0"/>
                    </Anchor>
                    <Anchor point="BOTTOM" relativeTo="ATSWHorizontalBar1LeftAddon" relativePoint="TOP">
                        <Offset x="0" y="-7"/>
                    </Anchor>
                </Anchors>
                <NormalTexture file="Interface\Buttons\UI-RotationRight-Button-Up"/>
                <PushedTexture file="Interface\Buttons\UI-RotationRight-Button-Down"/>
                <HighlightTexture file="Interface\Buttons\ButtonHilight-Round" alphaMode="ADD"/>
                <Scripts>
					<OnEnter>
						local Table = ATSW_PreviousRecipes[ATSW_realm][ATSW_player][ATSW_Profession[ATSW_realm][ATSW_player]]
						
						GameTooltip:SetOwner(this, "ANCHOR_BOTTOMRIGHT")
						GameTooltip:SetText(Table[table.getn(Table)])
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide()
					</OnLeave>
                    <OnClick>
						this:Hide()
						
                        ATSWPreviousItemButton_OnClick()
						
						if table.getn(ATSW_PreviousRecipes[ATSW_realm][ATSW_player][ATSW_Profession[ATSW_realm][ATSW_player]]) > 0 then
							this:Show()
						end
                    </OnClick>
                </Scripts>
            </Button>
			
			<Button name="ATSWReagentsButton" inherits="UIPanelButtonTemplate" text="ATSW_REAGENTBUTTON">
				<Size x="90" y="22"/>
				<Anchors>
					<Anchor point="BOTTOM" relativeTo="ATSWFrame" relativePoint="BOTTOM">
						<Offset x="9" y="19.5"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						this:Disable()
					</OnLoad>
					<OnClick>
						ATSWReagentsButton_OnClick()
					</OnClick>
				</Scripts>
				<HighlightFont>
					<Color r="1" g="0.82" b="0"/>
				</HighlightFont>
			</Button>
			
			<Frame name="ATSWTrainingPointsFrame">
				<Size x="130" y="17"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="ATSWHorizontalBar2Left" relativePoint="BOTTOMLEFT">
						<Offset x="6" y="1"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\TrainingCost">
							<TexCoords left="0.1" right="0.9" top="0" bottom="1"/>
						</Texture>
						<FontString name="ATSWTrainingPointsLabel" inherits="GameFontNormalSmall" text="TRAINING_POINTS">
							<Anchors>
								<Anchor point="LEFT">
									<Offset x="6" y="0"/>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="ATSWTrainingPointsText" inherits="GameFontHighlightSmall">
							<Anchors>
								<Anchor point="LEFT" relativeTo="ATSWTrainingPointsLabel" relativePoint="RIGHT">
									<Offset x="3" y="0"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			
			<Button name="ATSWCreateButton" inherits="UIPanelButtonTemplate" text="ATSW_CREATE">
				<Size x="82" y="26.5"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeTo="ATSWFrame" relativePoint="BOTTOMRIGHT">
						<Offset x="-42" y="18"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						this:SetFont("Fonts\\FRIZQT__.ttf", 13.5)
					</OnLoad>
					<OnClick>
						ATSWAmountBox:ClearFocus()
						ATSWCreateButton_OnClick()
					</OnClick>
				</Scripts>
				<HighlightFont>
					<Color r="1" g="0.82" b="0"/>
				</HighlightFont>
				<PushedTexture inherits="UIPanelButtonDisabledDownTexture"/>
			</Button>
			
			<Button name="ATSWTaskButton" inherits="UIPanelButtonTemplate" text="ATSW_TASK">
				<Size x="74" y="22"/>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="ATSWCreateButton" relativePoint="LEFT">
						<Offset x="0" y="-0.5"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						ATSWTaskButton_OnClick()
						ATSWAmountBox:ClearFocus()
					</OnClick>
				</Scripts>
				<HighlightFont>
					<Color r="1" g="0.82" b="0"/>
				</HighlightFont>
			</Button>
			
			<Button name="ATSWIncrementButton">
				<Size x="23" y="23"/>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="ATSWTaskButton" relativePoint="LEFT">
						<Offset x="-1" y="-0.5"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						ATSWFrameIncrement_OnClick()
						ATSWAmountBox:ClearFocus()
					</OnClick>
				</Scripts>
				<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Up"/>
				<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Down"/>
				<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Disabled"/>
				<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
			</Button>
			
			<EditBox name="ATSWAmountBox" letters="3" historyLines="0" autoFocus="false">
				<Size x="30" y="20"/>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="ATSWIncrementButton" relativePoint="LEFT">
						<Offset x="2" y="0.5"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentLeft" file="Interface\Common\Common-Input-Border">
							<Size x="8" y="20"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="-5" y="0"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.0625" top="0" bottom="0.625"/>
						</Texture>
						<Texture name="$parentRight" file="Interface\Common\Common-Input-Border">
							<Size x="8" y="20"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
							<TexCoords left="0.9375" right="1.0" top="0" bottom="0.625"/>
						</Texture>
						<Texture name="$parentMiddle" file="Interface\Common\Common-Input-Border">
							<Size x="10" y="20"/>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
								<Anchor point="RIGHT" relativeTo="$parentRight" relativePoint="LEFT"/>
							</Anchors>
							<TexCoords left="0.0625" right="0.9375" top="0" bottom="0.625"/>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnEnterPressed>
						this:ClearFocus()
					</OnEnterPressed>
					<OnEscapePressed>
						this:ClearFocus()
					</OnEscapePressed>
					<OnTextChanged>
						ATSW_UpdateCreateButton()
						
						if this:GetNumber() == 0 then
							ATSWAmountBox:SetText(ATSW_ALL)
						elseif this:GetNumber()>100 then
							this:SetNumber(100)
						end
						
						ATSW_Amount[ATSW_realm][ATSW_player][ATSW_Profession[ATSW_realm][ATSW_player]] = this:GetNumber()
					</OnTextChanged> 
					<OnEditFocusLost>
						this:HighlightText(0, 0)
					</OnEditFocusLost>
					<OnEditFocusGained>
						this:HighlightText()
					</OnEditFocusGained>
					<OnMouseWheel>
						if arg1 == 1 then 		--Up
							ATSWFrameIncrement_OnClick()
						elseif arg1 == -1 then 	--Down
							ATSWFrameDecrement_OnClick()
						end
					</OnMouseWheel>
					<OnEnter>
						SetCursor("Interface\\AddOns\\AdvancedTradeSkillWindow2\\Textures\\MouseWheelCursor")
					</OnEnter>
					<OnLeave>
						ResetCursor()
					</OnLeave>
				</Scripts>
				<FontString inherits="ChatFontNormal"/>
			</EditBox>
			
			<Button name="ATSWDecrementButton">
				<Size x="23" y="23"/>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="ATSWAmountBox" relativePoint="LEFT">
						<Offset x="-3" y="-0.5"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						ATSWFrameDecrement_OnClick()
						ATSWAmountBox:ClearFocus()
					</OnClick>
				</Scripts>
				<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Up"/>
				<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Down"/>
				<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Disabled"/>
				<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="ATSWAmountText" inherits="GameFontHighlightSmall" justifyH="RIGHT" text="ATSW_AMOUNT">
							<Size x="50" y="0"/>
							<Anchors>
								<Anchor point="RIGHT" relativeTo="ATSWDecrementButton" relativePoint="LEFT" >
									<Offset x="0" y="0.5"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Button>
			
			<ScrollFrame name="ATSWTaskScrollFrameBackground">
				<Anchors>
					<Anchor point="TOP" relativeTo="ATSWHorizontalBar1LeftAddon" relativePoint="BOTTOM">
						<Offset x="0" y="2"/>
					</Anchor>
					<Anchor point="BOTTOM" relativeTo="ATSWHorizontalBar2LeftAddon" relativePoint="TOP">
						<Offset x="0" y="-3"/>
					</Anchor>
					<Anchor point="RIGHT" relativeTo="ATSWFrame" relativePoint="RIGHT">
						<Offset x="-69" y="0"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
							<Size x="28" y="80"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
									<Offset x="1" y="3"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.46375" top="0.0234375" bottom="0.6"/>
						</Texture>
						<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
							<Size x="28" y="80"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT">
									<Offset x="1" y="-3"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0.53125" right="0.995" top="0.385" bottom="1.0"/>
						</Texture>
					</Layer>
				</Layers>
			</ScrollFrame>
			
			<ScrollFrame name="ATSWTaskScrollFrame" inherits="FauxScrollFrameTemplate" hidden="true">
				<Size x="356" y="150"/>
				<Anchors>
					<Anchor point="TOP" relativeTo="ATSWHorizontalBar1LeftAddon" relativePoint="BOTTOM">
						<Offset x="0" y="1.5"/>
					</Anchor>
					<Anchor point="BOTTOM" relativeTo="ATSWHorizontalBar2LeftAddon" relativePoint="TOP">
						<Offset x="0" y="-4"/>
					</Anchor>
					<Anchor point="RIGHT" relativeTo="ATSWFrame" relativePoint="RIGHT">
						<Offset x="-66" y="0"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnVerticalScroll>
						ATSW_UpdateTaskListScroll()
						FauxScrollFrame_OnVerticalScroll(ATSW_TRADESKILL_HEIGHT-1, ATSW_UpdateTasks)
					</OnVerticalScroll>
					<OnShow>
						ATSW_UpdateTaskListScroll()
					</OnShow>
				</Scripts>
			</ScrollFrame>
        </Frames>
        <Scripts>
			<OnLoad>
				ATSW_OnLoad()
			</OnLoad>
			<OnEvent>
				ATSW_OnEvent()
			</OnEvent>
			<OnHide>
				if not ATSW_SwitchingFrames then
					CloseATSW()
				end
			</OnHide>
        </Scripts>
    </Frame>
	
	<Frame name="ATSWUpdaterFrame" frameStrata="LOW" enableMouse="false" hidden="true">
    	<Scripts>
    		<OnUpdate>
    			ATSW_OnUpdate(arg1)
    		</OnUpdate>
    	</Scripts>
    </Frame>
	
	<Button name="ATSWRFTextTemplate_30" virtual="true">
      <Size x="40" y="16"/>
        <ButtonText name="$parentText" inherits="GameFontNormal" justifyH="right">
            <Size x="40" y="12"/>
            <Anchors>
                <Anchor point="LEFT"/>
            </Anchors>
            <Color r="1" g="1" b="1" a="1"/>
        </ButtonText>
    </Button>

	<Button name="ATSWRFTextTemplate_300" virtual="true">
      <Size x="210" y="16"/>
	  	<Scripts>
			<OnEnter>
                ATSWItemButton_OnEnter()
            </OnEnter>
            <OnLeave>
                ATSWItemButton_OnLeave()
            </OnLeave>
        </Scripts>
        <ButtonText name="$parentText" inherits="GameFontNormal" justifyH="left">
            <Size x="210" y="12"/>
            <Anchors>
                <Anchor point="LEFT"/>
            </Anchors>
            <Color r="1" g="1" b="1" a="1"/>
        </ButtonText>
    </Button>

	<Button name="ATSWRFTextTemplate_60" virtual="true">
		<Size x="46" y="16"/>
		<ButtonText name="$parentText" inherits="GameFontNormalSmall" justifyH="center">
			<Size x="50" y="12"/>
			<Anchors>
				<Anchor point="LEFT"/>
			</Anchors>
			
			<Color r="1" g="1" b="1" a="1"/>
		</ButtonText>
		<PushedTextOffset x="0" y="0"/>
    </Button>

	<Button name="ATSWRFTextTemplate_40" virtual="true">
      <Size x="40" y="16"/>
        <ButtonText name="$parentText" inherits="GameFontHighlightSmall" justifyH="left">
            <Size x="40" y="12"/>
            <Anchors>
                <Anchor point="LEFT"/>
            </Anchors>
        </ButtonText>
    </Button>
	
	<Frame name="ATSWReagentsFrame" frameStrata="HIGH" enableMouse="true" parent="ATSWFrame" hidden="true" frameLevel="20">
		<HitRectInsets>
			<AbsInset left="11" right="35" top="12" bottom="76"/>
		</HitRectInsets>
        <Size x="512" y="512"/>
        <Anchors>
            <Anchor point="TOPLEFT">
                <Offset x="120" y="-20"/>
            </Anchor>
        </Anchors>
        <Layers>
	        <Layer level="BACKGROUND">
                <Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-TaxiFrame-TopLeftReplacement2">
                    <Size x="256" y="256"/>
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                    </Anchors>
                </Texture>
                <Texture file="Interface\TaxiFrame\UI-TaxiFrame-BotLeft">
                    <Size x="256" y="256"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="0" y="-256"/>
                        </Anchor>
                    </Anchors>
                </Texture>
                <Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-TaxiFrame-TopRightReplacement2">
                    <Size x="256" y="256"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="256" y="0"/>
                        </Anchor>
                    </Anchors>
                </Texture>
                <Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-TaxiFrame-BotRightReplacement2">
                    <Size x="256" y="256"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="256" y="-256"/>
                        </Anchor>
                    </Anchors>
                </Texture>
			</Layer>
			<Layer level="BORDER">
                <Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size x="46" y="24"/>
					<Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="251" y="-38"/>
                        </Anchor>
					</Anchors>
                    <TexCoords left="0" right="0.96" top="0" bottom="1"/>
                </Texture>
                <Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size x="46" y="24"/>
					<Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="297" y="-38"/>
                        </Anchor>
					</Anchors>
                    <TexCoords left="0" right="0.96" top="0" bottom="1"/>
                </Texture>
                <Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size x="46" y="24"/>
					<Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="344" y="-38"/>
                        </Anchor>
					</Anchors>
                    <TexCoords left="0" right="0.96" top="0" bottom="1"/>
                </Texture>
                <Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size x="66" y="24"/>
					<Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="390" y="-38"/>
                        </Anchor>
					</Anchors>
                    <TexCoords left="0" right="0.96" top="0" bottom="1"/>
                </Texture>
			</Layer>
			<Layer level="ARTWORK">
                <FontString name="ATSWReagentsFrameTitleText" inherits="GameFontNormalSmall" text="ATSW_REAGENTFRAMETITLE" justifyH="center">
                    <Size x="450" y="12"/>
                    <Anchors>
                        <Anchor point="TOP">
                            <Offset x="0" y="-23"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWReagentsFrameBagsTitle" inherits="GameFontHighlightSmall" text="ATSW_REAGENTFRAME_CH1" justifyH="center">
                    <Size x="100" y="14"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="224" y="-40"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWReagentsFrameBankTitle" inherits="GameFontHighlightSmall" text="ATSW_REAGENTFRAME_CH2" justifyH="center">
                    <Size x="100" y="14"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="270" y="-40"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWReagentsFrameAltsTitle" inherits="GameFontHighlightSmall" text="ATSW_REAGENTFRAME_CH3" justifyH="center">
                    <Size x="100" y="14"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="316" y="-40"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWReagentsFrameMerchantTitle" inherits="GameFontHighlightSmall" text="ATSW_REAGENTFRAME_CH4" justifyH="center">
                    <Size x="100" y="14"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="374" y="-40"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWReagentsFrameAndMore" inherits="GameFontHighlightSmall" justifyH="LEFT" text="ATSW_ANDMORE">
                    <Anchors>
                        <Anchor point="BOTTOMLEFT">
                            <Offset x="57" y="83"/>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
			<Button name="ATSWReagentsFrameCloseButton" inherits="UIPanelCloseButton">
                <Anchors>
                    <Anchor point="TOPRIGHT">
                        <Offset x="-31" y="-10"/>
                    </Anchor>
                </Anchors>
            </Button>
        </Frames>
		<Scripts>
			<OnShow>
				PlaySound("igMainMenuOption")
				ATSWReagentsButton:SetButtonState("PUSHED", true)
			</OnShow>
			<OnHide>
				PlaySound("igMainMenuOptionCheckBoxOn")
				ATSWReagentsButton:SetButtonState("NORMAL", false)
			</OnHide>
		</Scripts>
    </Frame>

	<Frame name="ATSWConfigFrame" inherits="ATSWDialogBoxFrame_OnlyOK" toplevel="true" frameStrata="DIALOG" parent="UIParent">
		<Size x="395" y="560"/>
		<Layers>
			<Layer level="ARTWORK">
				<Texture name="ATSWOptionsMenuHeader" file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="310" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="23"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
				<FontString name="ATSWOFTitle" inherits="GameFontNormal" text="ATSW_OPTIONS_TITLE">
					<Anchors>
						<Anchor point="TOP" relativeTo="ATSWOptionsMenuHeader">
							<Offset x="0" y="-26"/>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="ATSWOptionsTotalDisplayed" inherits="OptionFrameBoxTemplate">
				<Size x="195" y="74"/>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="12" y="-50"/>
					</Anchor>
				</Anchors>
				<Frames>
					<CheckButton name="ATSWOFUnifiedButton" virtual="true" inherits="UIRadioButtonTemplate">
						<Size x="20" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset x="12" y="-8"/>
							</Anchor>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="ATSWOFUnifiedText" inherits="ATSWYellowFont" text="ATSWOFUCB_TEXT" justifyH="LEFT">
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT">
											<Offset x="0" y="1"/>
										</Anchor>
									</Anchors>
								</FontString>
								<Texture name="ATSWOFUnified" file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\Options\Unified">
									<Size x="78" y="37"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT">
											<Offset x="0" y="0"/>
										</Anchor>
									</Anchors>
									<TexCoords left="0.078" right="0.922" top="0.296" bottom="0.703"/>
								</Texture>
							</Layer>
						</Layers>
						
						<Scripts>
							<OnClick>
								if this:GetChecked() then
									PlaySound("igMainMenuOptionCheckBoxOn")
									ATSW_Options.Unified=true
									ATSWOFSeparateButton:SetChecked(false)
								end
								
								if ATSWFrame:IsVisible() then
									ATSW_UpdateRecipes()
								end
								
								this:SetChecked()
							</OnClick>
						</Scripts>
					</CheckButton>
					
					<CheckButton name="ATSWOFSeparateButton" virtual="true" inherits="UIRadioButtonTemplate">
						<Size x="20" y="20"/>
						<Anchors>
							<Anchor point="LEFT" relativeTo="ATSWOFUnifiedButton" relativePoint="RIGHT">
								<Offset x="70" y="0"/>
							</Anchor>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="ATSWOFSeparateText" inherits="ATSWYellowFont" text="ATSWOFSCB_TEXT" justifyH="LEFT">
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT">
											<Offset x="0" y="1"/>
										</Anchor>
									</Anchors>
								</FontString>
								<Texture name="ATSWOFSeparate" file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\Options\Separate">
									<Size x="78" y="37"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT">
											<Offset x="0" y="0"/>
										</Anchor>
									</Anchors>
									<TexCoords left="0.078" right="0.922" top="0.296" bottom="0.703"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnClick>
								if this:GetChecked() then
									PlaySound("igMainMenuOptionCheckBoxOn")
									ATSW_Options.Unified=false
									ATSWOFUnifiedButton:SetChecked(false)
								end
								
								if ATSWFrame:IsVisible() then
									ATSW_UpdateRecipes()
								end
								
								this:SetChecked()
							</OnClick>
						</Scripts>
					</CheckButton>
				</Frames>
				<Scripts>
					<OnLoad>
						this:SetBackdropBorderColor	(0.4, 	0.4, 		0.4)
						this:SetBackdropColor				(0.15, 	0.15, 	0.15)
						getglobal(this:GetName() .. "Title"):SetText(ATSWOFTOTALDISPLAY_TEXT)
					</OnLoad>
				</Scripts>
			</Frame>
			
			<Frame name="ATSWOptionsTotalInclude" inherits="OptionFrameBoxTemplate">
				<Size x="176" y="74"/>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="207" y="-50"/>
					</Anchor>
				</Anchors>
				<Frames>
					<CheckButton name="ATSWOFIncludeBankButton" virtual="true" inherits="UICheckButtonTemplate">
						<Size x="20" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset x="12" y="-8"/>
							</Anchor>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="ATSWOFIBText" inherits="ATSWYellowFont" text="ATSWOFIB_TEXT" justifyH="LEFT">
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT">
											<Offset x="0" y="1"/>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
							<OnClick>				
								if this:GetChecked() then
									PlaySound("igMainMenuOptionCheckBoxOn")
								else
									PlaySound("igMainMenuOptionCheckBoxOff")
								end
								
								ATSW_Options.ConsiderBank = this:GetChecked() and true or false
								
								DEFAULT_CHAT_FRAME:AddMessage("ATSW_Options.ConsiderBank: " .. tostring(ATSW_Options.ConsiderBank))
								
								if ATSWFrame:IsVisible() then
									ATSW_UpdateRecipes()
								end
							</OnClick>
						</Scripts>
					</CheckButton>

					<CheckButton name="ATSWOFIncludeAltsButton" inherits="UICheckButtonTemplate" virtual="true">
						<Size x="20" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="ATSWOFIncludeBankButton" relativePoint="BOTTOMLEFT"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="ATSWOFIAText" inherits="ATSWYellowFont" text="ATSWOFIA_TEXT" justifyH="LEFT">
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT">
											<Offset x="0" y="1"/>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
							<OnClick>
								if this:GetChecked() then
									PlaySound("igMainMenuOptionCheckBoxOn")
								else
									PlaySound("igMainMenuOptionCheckBoxOff")
								end
								
								ATSW_Options.ConsiderAlts = this:GetChecked() and true or false
								
								if ATSWFrame:IsVisible() then
									ATSW_UpdateRecipes()
								end
							</OnClick>
						</Scripts>
					</CheckButton>

					<CheckButton name="ATSWOFIncludeMerchantsButton" inherits="UICheckButtonTemplate" virtual="true">
						<Size x="20" y="20"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="ATSWOFIncludeAltsButton" relativePoint="BOTTOMLEFT"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="ATSWOFIMText" inherits="ATSWYellowFont" text="ATSWOFIM_TEXT" justifyH="LEFT">
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT">
											<Offset x="0" y="1"/>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
							</Layers>
						<Scripts>
							<OnClick>
								if this:GetChecked() then
									PlaySound("igMainMenuOptionCheckBoxOn")
								else
									PlaySound("igMainMenuOptionCheckBoxOff")
								end
								
								ATSW_Options.ConsiderMerchants = this:GetChecked() and true or false
								
								if ATSWFrame:IsVisible() then
									ATSW_UpdateRecipes()
								end
							</OnClick>
						</Scripts>
					</CheckButton>
				</Frames>
				<Scripts>
					<OnLoad>
						this:SetBackdropBorderColor	(0.4, 	0.4, 		0.4)
						this:SetBackdropColor				(0.15, 	0.15, 	0.15)
						getglobal(this:GetName() .. "Title"):SetText(ATSWOFTOTALINCLUDE_TEXT)
					</OnLoad>
				</Scripts>
			</Frame>
			
			<CheckButton name="ATSWOFAutoBuyButton" inherits="UICheckButtonTemplate" virtual="true">
				<Size x="20" y="20"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="ATSWConfigFrame">
						<Offset x="20" y="-145"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="ATSWOFABText" inherits="ATSWYellowFontThin" text="ATSWOFAB_TEXT" justifyH="LEFT">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT">
									<Offset x="0" y="-9"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick>
						if this:GetChecked() then
							PlaySound("igMainMenuOptionCheckBoxOn")
						else
							PlaySound("igMainMenuOptionCheckBoxOff")
						end
						
						ATSW_Options.AutoBuy = this:GetChecked() and true or false
						
						if ATSWFrame:IsVisible() then
							ATSW_UpdateRecipes()
						end
					</OnClick>
				</Scripts>
			</CheckButton>
			
			<CheckButton name="ATSWOFTooltipButton" inherits="UICheckButtonTemplate" virtual="true">
				<Size x="20" y="20"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="ATSWOFAutoBuyButton" relativePoint="BOTTOMLEFT">
						<Offset x="0" y="-20"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="ATSWOFTTText" inherits="ATSWYellowFontThin" text="ATSWOFTB_TEXT" justifyH="LEFT">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT">
									<Offset x="0" y="-9"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick>
						if this:GetChecked() then
							PlaySound("igMainMenuOptionCheckBoxOn")
						else
							PlaySound("igMainMenuOptionCheckBoxOff")
						end
						
						ATSW_Options.RecipeTooltip = this:GetChecked() and true or false
					</OnClick>
				</Scripts>
			</CheckButton>
			
			<CheckButton name="ATSWOFShoppingListButton" inherits="UICheckButtonTemplate" virtual="true">
				<Size x="20" y="20"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="ATSWOFTooltipButton" relativePoint="BOTTOMLEFT">
						<Offset x="0" y="-20"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="ATSWOFSLText" inherits="ATSWYellowFontThin" text="ATSWOFSLB_TEXT" justifyH="LEFT">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT">
									<Offset x="0" y="-9"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick>
						if this:GetChecked() then
							PlaySound("igMainMenuOptionCheckBoxOn")
						else
							PlaySound("igMainMenuOptionCheckBoxOff")
						end
						
						ATSW_Options.DisplayShoppingList = this:GetChecked() and true or false
					</OnClick>
				</Scripts>
			</CheckButton>
			
			<Frame name="ATSWOptionsAddonsCompat" inherits="OptionFrameBoxTemplate">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="12" y="-300"/>
					</Anchor>
					<Anchor point="BOTTOMRIGHT">
						<Offset x="-12" y="50"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BORDER">
						<Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
							<Size x="58" y="23"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="10" y="-8"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.96" top="0" bottom="1"/>
						</Texture>
						<Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
							<Size x="58" y="23"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="75" y="-8"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.96" top="0" bottom="1"/>
						</Texture>
						<Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
							<Size x="58" y="23"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="241" y="-8"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.96" top="0" bottom="1"/>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<FontString name="ATSWAddonsCompatInstalledTitle" inherits="GameFontHighlightSmall" text="ATSWOF_INSTALLED" justifyH="center">
							<Size x="100" y="14"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="-11" y="-10"/>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="ATSWAddonsCompatAddonTitle" inherits="GameFontHighlightSmall" text="ATSWOF_ADDON" justifyH="center">
							<Size x="100" y="14"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="54" y="-10"/>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="ATSWAddonsCompatEffectTitle" inherits="GameFontHighlightSmall" text="ATSWOF_EFFECT" justifyH="center">
							<Size x="100" y="14"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="220" y="-10"/>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						this:SetBackdropBorderColor	(0.4, 	0.4, 		0.4)
						this:SetBackdropColor				(0.15, 	0.15, 	0.15)
						getglobal(this:GetName() .. "Title"):SetText(ATSWOFADDONCOMPAT_TEXT)
					</OnLoad>
				</Scripts>
			</Frame>
			
			<Frame name="ATSWOptionsAddonsCompatTable" inherits="OptionFrameBoxTemplate" parent="ATSWOptionsAddonsCompat">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
						<Offset x="2" y="-22"/>
					</Anchor>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset x="-2" y="2"/>
					</Anchor>
				</Anchors>
				<Frames>
					<Frame name="ATSWCompatAddonAtlasLoot" inherits="ATSWCompatAddonTemplate" hidden="false">
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset x="2" y="-35"/>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								local AtlasLootTexturePath = "Interface\\AddOns\\AdvancedTradeSkillWindow2\\Textures\\Options\\AtlasLootMinimap"
								local Name = getglobal(this:GetName() .. "Name")
								
								Name:SetNormalTexture(AtlasLootTexturePath)
								Name:SetText("AtlasLoot")
								Name:Disable()
								
								getglobal(this:GetName() .. "Effect"):SetTexture(AtlasLootTexturePath .. "Effect")
								getglobal(this:GetName() .. "Effect"):SetPoint("CENTER", 165, -70)
								getglobal(this:GetName() .. "EffectDescription"):SetText(ATSWOFALDESCRIPTION)
							</OnLoad>
							<OnShow>
								local Version = getglobal(this:GetName() .. "NameVersion")
								local Installed = getglobal(this:GetName() .. "Installed")
								
								if ATSW_CheckForAtlasLootLoaded() then
									Version:SetText(GetAddOnMetadata("AtlasLoot", "Version"))
									this:SetAlpha(1)
									Installed:Show()
								else
									Version:SetText("")
									this:SetAlpha(0.4)
									Installed:Hide()
								end
							</OnShow>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad>
						this:SetBackdropBorderColor	(0.4, 	0.4, 		0.4)
						this:SetBackdropColor				(0.25, 	0.25, 	0.25)
					</OnLoad>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				PlaySound("igMainMenuOpen")
				if ATSWFrame:IsVisible() or ATSWCSFrame:IsVisible() then
					CloseATSW()
				end
			</OnShow>
			<OnHide>
				HideUIPanel(ATSWConfigFrame)
				PlaySound("igMainMenuQuit")
			</OnHide>
		</Scripts>
    </Frame>
	
	<Frame name="ATSWSmallMoneyFrameTemplate" virtual="true">
		<Size x="128" y="13"/>
		<Frames>
			<Button name="$parentCopperButton">
				<Size x="32" y="13"/>
				<Anchors>
					<Anchor point="RIGHT">
						<Offset x="-13" y="0"/>
					</Anchor>
				</Anchors>
				<NormalTexture file="Interface\MoneyFrame\UI-MoneyIcons">
					<Size x="13" y="13"/>
					<Anchors>
						<Anchor point="RIGHT"/>
					</Anchors>
					<TexCoords left="0.5" right="0.75" top="0" bottom="1"/>
				</NormalTexture>
				<ButtonText name="$parentText">
					<Anchors>
						<Anchor point="RIGHT">
							<Offset x="-13" y="0"/>
						</Anchor>
					</Anchors>
				</ButtonText>
				<NormalFont inherits="NumberFontNormal" justifyH="RIGHT"/>
				<PushedTextOffset x="0" y="0"/>
			</Button>
			<Button name="$parentSilverButton">
				<Size x="32" y="13"/>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="$parentCopperButton" relativePoint="LEFT">
						<Offset x="-4" y="0"/>
					</Anchor>
				</Anchors>
				<NormalTexture file="Interface\MoneyFrame\UI-MoneyIcons">
					<Size x="13" y="13"/>
					<Anchors>
						<Anchor point="RIGHT"/>
					</Anchors>
					<TexCoords left="0.25" right="0.5" top="0" bottom="1"/>
				</NormalTexture>
				<ButtonText name="$parentText">
					<Anchors>
						<Anchor point="RIGHT">
							<Offset x="-13" y="0"/>
						</Anchor>
					</Anchors>
				</ButtonText>
				<NormalFont inherits="NumberFontNormal" justifyH="RIGHT"/>
				<PushedTextOffset x="0" y="0"/>
			</Button>
			<Button name="$parentGoldButton">
				<Size x="32" y="13"/>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="$parentSilverButton" relativePoint="LEFT">
						<Offset x="-4" y="0"/>
					</Anchor>
				</Anchors>
				<NormalTexture file="Interface\MoneyFrame\UI-MoneyIcons">
					<Size x="13" y="13"/>
				<Anchors>
					<Anchor point="RIGHT"/>
				</Anchors>
				<TexCoords left="0" right="0.25" top="0" bottom="1"/>
				</NormalTexture>
				<ButtonText name="$parentText">
					<Anchors>
						<Anchor point="RIGHT">
							<Offset x="-13" y="0"/>
						</Anchor>
					</Anchors>
				</ButtonText>
			<NormalFont inherits="NumberFontNormal" justifyH="RIGHT"/>
			<PushedTextOffset  x="0" y="0"/>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				this.small = 1
				this.info = {}
				this.info.collapse = true
				this.info.showSmallerCoins = false
			</OnLoad>
		</Scripts>
	</Frame>

	<Frame name="ATSWBuyNecessaryFrame" parent="MerchantFrame" hidden="true" frameStrata="HIGH">
		<Size x="275" y="38"/>
		<Anchors>
			<Anchor point="TOPLEFT" relativeTo="MerchantFrame" relativePoint="TOPLEFT">
				<Offset x="69" y="-34"/>
			</Anchor>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="" tile="true">
			<TileSize val="32"/>
			<BackgroundInsets>
				<AbsInset left="0" right="0" top="0" bottom="0"/>
			</BackgroundInsets>
			<Color r="1" g="1" b="1" a="0"/>
		</Backdrop>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="ATSWBuyButtonTopText" inherits="GameFontHighlightSmall" justifyH="LEFT" justifyV="TOP" text="ATSW_BUYBUTTON_TOPTEXT">
					<Size x="260" y="0"/>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="3" y="-3"/>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="ATSWBuyButton" inherits="UIPanelButtonTemplate" parent="ATSWBuyNecessaryFrame" text="ATSW_BUYBUTTON_TEXT">
				<Size x="130" y="21"/>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset x="0" y="-15"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						this:SetWidth(this:GetTextWidth() + 20)
					</OnLoad>
					<OnClick>
						this:Disable()
						ATSW_BuyFromMerchant()
					</OnClick>
				</Scripts>
				<HighlightFont>
					<Color r="1" g="0.82" b="0"/>
				</HighlightFont>
			</Button>
			<Frame name="ATSWBuyPrice" inherits="ATSWSmallMoneyFrameTemplate">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ATSWBuyButton" relativePoint="TOPLEFT">
						<Offset x="10" y="-4"/>
					</Anchor>
				</Anchors>
			</Frame>
		</Frames>
	</Frame>
	
	<Frame name="ATSWSLFReagentTemplate" virtual="true">
    	<Size x="700" y="18"/>
        <Frames>
			<Button name="$parentItem" inherits="ATSWRFTextTemplate_300">
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset x="35" y="0"/>
                    </Anchor>
                </Anchors>
				<Scripts>
					<OnClick>
						ATSWAuction_SearchForRecipe()
					</OnClick>
				</Scripts>
				<NormalTexture name="$parentNormalTexture">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="-18" y="-1"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.083" right="0.92" top="0.083" bottom="0.92"/>
				</NormalTexture>
				<HighlightTexture name="$parentHighlight" file="Interface\Buttons\UI-PlusButton-Hilight" alphaMode="ADD">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentNormalTexture" relativePoint="LEFT"/>
					</Anchors>
					<TexCoords left="0.2" right="0.8" top="0.2" bottom="0.8"/>
				</HighlightTexture>
				<DisabledTexture file="Interface\Buttons\UI-PlusButton-Disabled">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="3" y="0"/>
						</Anchor>
					</Anchors>
				</DisabledTexture>
            </Button>
			<Button name="$parentBags" inherits="ATSWRFTextTemplate_60">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentItem" relativePoint="RIGHT">
                        <Offset x="-16" y="0"/>
                    </Anchor>
                </Anchors>
            </Button>
			<Button name="$parentBank" inherits="ATSWRFTextTemplate_60">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentBags" relativePoint="RIGHT"/>
                </Anchors>
            </Button>
			<Button name="$parentAlt" inherits="ATSWRFTextTemplate_60">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentBank" relativePoint="RIGHT"/>
                </Anchors>
				<Scripts>
					<OnEnter>
						ATSW_GetAltsLocationIntoTooltip(this:GetParent().Name)
					</OnEnter>
					<OnLeave>
						ATSWRecipeTooltip:Hide()
					</OnLeave>
				</Scripts>
            </Button>
			<Button name="$parentMerchant">
				<Size x="16" y="16"/>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentAlt" relativePoint="RIGHT">
                        <Offset x="28" y="-1"/>
                    </Anchor>
                </Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture name="$parentTexture" file="Interface\Buttons\UI-CheckBox-Check">
							<Size x="16" y="16"/>
							<Anchor point="TOPLEFT"/>
						</Texture>
					</Layer>
				</Layers>
            </Button>
		</Frames>
		<Scripts>
			<OnLoad>
				getglobal(this:GetName() .. "ItemHighlight"):SetDesaturated(true)
			</OnLoad>
		</Scripts>
	</Frame>
	
	<Frame name="ATSWShoppingListFrame" frameStrata="HIGH" toplevel="true" enableMouse="true" parent="UIParent" hidden="true">
		<HitRectInsets>
			<AbsInset left="12" right="35" top="0" bottom="58"/>
		</HitRectInsets>
        <Size x="512" y="200"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="ATSWFrame" relativePoint="TOPLEFT">
                <Offset x="120" y="-20"/>
            </Anchor>
        </Anchors>
        <Layers>
	        <Layer level="BACKGROUND">
                <Texture file="Interface\TaxiFrame\UI-TaxiFrame-BotLeft">
                    <Size x="256" y="200"/>
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                    </Anchors>
                </Texture>
                <Texture file="Interface\AddOns\AdvancedTradeSkillWindow2\Textures\UI-TaxiFrame-BotRightReplacement2">
                    <Size x="256" y="200"/>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset x="256" y="0"/>
                        </Anchor>
                    </Anchors>
                </Texture>
			</Layer>
			<Layer level="BORDER">
                <Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size x="46" y="24"/>
					<Anchors>
                        <Anchor point="TOPLEFT" relativeTo="ATSWShoppingListFrame" relativePoint="TOPLEFT">
                            <Offset x="240" y="-22"/>
                        </Anchor>
					</Anchors>
                    <TexCoords left="0" right="0.96" top="0" bottom="1"/>
                </Texture>
                <Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size x="46" y="24"/>
					<Anchors>
                        <Anchor point="TOPLEFT" relativeTo="ATSWShoppingListFrame" relativePoint="TOPLEFT">
                            <Offset x="286" y="-22"/>
                        </Anchor>
					</Anchors>
                    <TexCoords left="0" right="0.96" top="0" bottom="1"/>
                </Texture>
                <Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size x="46" y="24"/>
					<Anchors>
                        <Anchor point="TOPLEFT" relativeTo="ATSWShoppingListFrame" relativePoint="TOPLEFT">
                            <Offset x="332" y="-22"/>
                        </Anchor>
					</Anchors>
                    <TexCoords left="0" right="0.96" top="0" bottom="1"/>
                </Texture>
                <Texture file="Interface\FriendsFrame\WhoFrame-ColumnTabs">
					<Size x="66" y="24"/>
					<Anchors>
                        <Anchor point="TOPLEFT" relativeTo="ATSWShoppingListFrame" relativePoint="TOPLEFT">
                            <Offset x="378" y="-22"/>
                        </Anchor>
					</Anchors>
                    <TexCoords left="0" right="0.96" top="0" bottom="1"/>
                </Texture>
			</Layer>
			<Layer level="ARTWORK">
				<FontString name="ATSWShoppingListFrameTitleText" inherits="GameFontNormalSmall" text="ATSW_SHOPPINGLISTTITLE" justifyH="CENTER">
                    <Size x="450" y="14"/>
                    <Anchors>
                        <Anchor point="TOP" relativeTo="ATSWShoppingListFrame" relativePoint="TOP">
                            <Offset x="-10" y="-5"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWShoppingListFrameCH1" inherits="GameFontHighlightSmall" text="ATSW_REAGENTFRAME_CH1" justifyH="center">
                    <Size x="75" y="14"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="ATSWShoppingListFrame" relativePoint="TOPLEFT">
                            <Offset x="224" y="-24"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWShoppingListFrameCH2" inherits="GameFontHighlightSmall" text="ATSW_REAGENTFRAME_CH2" justifyH="center">
                    <Size x="66" y="14"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="ATSWShoppingListFrame" relativePoint="TOPLEFT">
                            <Offset x="276" y="-24"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWShoppingListFrameCH3" inherits="GameFontHighlightSmall" text="ATSW_REAGENTFRAME_CH3" justifyH="center">
                    <Size x="57" y="14"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="ATSWShoppingListFrame" relativePoint="TOPLEFT">
                            <Offset x="325" y="-24"/>
                        </Anchor>
                    </Anchors>
                </FontString>
				<FontString name="ATSWShoppingListFrameCH4" inherits="GameFontHighlightSmall" text="ATSW_REAGENTFRAME_CH4" justifyH="center">
                    <Size x="65" y="14"/>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="ATSWShoppingListFrame" relativePoint="TOPLEFT">
                            <Offset x="380" y="-24"/>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
			<Layer level="BORDER">
				<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
					<Size x="29" y="72"/>
					<Anchors>
						<Anchor point="TOPRIGHT">
							<Offset x="-40" y="-1"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="0.46875" top="0.0234375" bottom="0.6"/>
				</Texture>
				<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
					<Size x="29" y="80"/>
					<Anchors>
						<Anchor point="BOTTOMRIGHT">
							<Offset x="-40" y="62.5"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.53125" right="1.0" top="0.4" bottom="1.0"/>
				</Texture>
			</Layer>
        </Layers>
        <Frames>
			<ScrollFrame name="ATSWSLScrollFrame" inherits="FauxScrollFrameTemplate">
				<Size x="430" y="132.5"/>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset x="-66.5" y="-2.5"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(ATSW_TRADESKILL_HEIGHT, ATSW_UpdateAuctionList)
					</OnVerticalScroll>
				</Scripts>
			</ScrollFrame>
        </Frames>
    </Frame>
	
	<GameTooltip name="ATSWActionNameTooltip" frameStrata="TOOLTIP" inherits="GameTooltipTemplate" parent="UIParent" hidden="true">
		<Scripts>
			<OnLoad>
				this:SetOwner(UIParent, "ANCHOR_NONE")
			</OnLoad>
		</Scripts>
	</GameTooltip>
</Ui>